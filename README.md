# Crime Report System - Database Tables

This document contains all necessary **SQL `CREATE TABLE` statements** for the Crime Report System in **Oracle SQL / SQL\*Plus**.

---

## 1. Police Information

```sql
CREATE TABLE POLICE_INFO (
    POLICE_ID VARCHAR2(20) NOT NULL PRIMARY KEY,
    POLICE_NAME VARCHAR2(100) NOT NULL,
    RANK VARCHAR2(50),
    STATION VARCHAR2(100)
);
```

- `POLICE_ID` is the unique identifier for police officers.
- Stores officer's name, rank, and station.

---

## 2. Registered Users

```sql
CREATE TABLE REGISTERED_USERS (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    FULL_NAME VARCHAR2(100) NOT NULL,
    USER_NAME VARCHAR2(50) NOT NULL UNIQUE,
    EMAIL VARCHAR2(100) NOT NULL UNIQUE,
    DOB DATE,
    MOBILE VARCHAR2(15),
    ROLE VARCHAR2(20) NOT NULL, -- e.g., 'public', 'police', 'admin'
    POLICE_ID VARCHAR2(20), -- FK to POLICE_INFO if role='police'
    PASSWORD VARCHAR2(255) NOT NULL,
    PROFILE_PICTURE BLOB,
    CONSTRAINT fk_police FOREIGN KEY (POLICE_ID)
        REFERENCES POLICE_INFO(POLICE_ID)
);
```

- `ID` is the primary key.
- `POLICE_ID` links police users to `POLICE_INFO`.
- `USER_NAME` and `EMAIL` are unique.

---

## 3. Reported Crimes

```sql
CREATE TABLE REPORTED_CRIMES (
    REPORT_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    USER_NAME VARCHAR2(50) NOT NULL,
    FULL_NAME VARCHAR2(100),
    CATEGORY VARCHAR2(100),
    DESCRIPTION CLOB,
    STATUS VARCHAR2(50) DEFAULT 'Pending',
    DATE_OF_INCIDENT TIMESTAMP,
    ZILLA VARCHAR2(100),
    UPAZILLA VARCHAR2(100),
    POLICE_STATION VARCHAR2(100),
    ROAD_NAME VARCHAR2(100),
    ROAD_NO VARCHAR2(50),
    DEMO_PICTURE BLOB,
    HIDE_IDENTITY VARCHAR2(3) DEFAULT 'NO',
    CONSTRAINT fk_user FOREIGN KEY (USER_NAME)
        REFERENCES REGISTERED_USERS(USER_NAME)
);
```

- `HIDE_IDENTITY` = YES/NO for anonymous reports.
- Stores location and optional crime image.

---

## 4. Sample Data

```sql
-- Police officers
INSERT INTO POLICE_INFO (POLICE_ID, POLICE_NAME, RANK, STATION)
VALUES ('P001', 'John Doe', 'Inspector', 'Central Station');

INSERT INTO POLICE_INFO (POLICE_ID, POLICE_NAME, RANK, STATION)
VALUES ('P002', 'Jane Smith', 'Sub-Inspector', 'East Station');

```

---

## Notes

1. Use `VARCHAR2` for string data, `NUMBER` for numeric IDs.
2. `BLOB` is used for images (profile pictures and crime photos).
3. Enforce **foreign keys** to maintain data integrity:
   - `REGISTERED_USERS.POLICE_ID` → `POLICE_INFO.POLICE_ID`
   - `REPORTED_CRIMES.USER_NAME` → `REGISTERED_USERS.USER_NAME`
4. All timestamps use `TIMESTAMP` type for incident date.
5. Adjust `PASSWORD` length to match your hash algorithm (bcrypt, SHA256, etc.).
